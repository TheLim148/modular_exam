# Универсальные диаграммы для модульного экзамена

В этом файле расположены все диаграммы PlantUML:

1. Диаграмма прецедентов (Use Case)  
2. Пользовательский сценарий (Sequence)  
3. Архитектурная диаграмма  
4. Блок-схема алгоритма основной операции  

---

## 1. Диаграмма прецедентов (Use Case)

```plantuml
@startuml
left to right direction

actor User as "Пользователь"
actor Admin as "Администратор"
actor Extra as "<РОЛЬ>"

rectangle "<НАЗВАНИЕ СИСТЕМЫ>" {

  ' --- ВЗАИМОСВЯЗИ include / extend ---
  (Создание записи) --> (Авторизация) : <<include>>
  (Редактирование записи) --> (Авторизация) : <<include>>

  (Формирование отчёта) --> (Просмотр данных) : <<extend>>
  (Просмотр всех отчётов) --> (Формирование отчёта) : <<extend>>

  ' --- АКТЁРЫ ---
  User --> (Авторизация)
  User --> (Просмотр данных)
  User --> (Создание записи)
  User --> (Редактирование записи)
  User --> (Формирование отчёта)

  Admin --> (Просмотр всех отчётов)
  Admin --> (Управление пользователями)
  Admin --> (Управление справочниками)

  Extra --> (<ФУНКЦИЯ РОЛИ>)
}
@enduml
```

## 2. Пользовательский сценарий (Sequence Diagram)

### Вариант 1 — Базовый 

```plamtuml
@startuml
actor User as U
participant "Интерфейс\n(UI)" as UI
participant "Логика приложения\n(APP)" as APP
database "База данных\n(DB)" as DB

U -> UI : Открыть форму операции
UI -> APP : Передать введённые данные
APP -> DB : Проверка / запись данных
DB --> APP : Результат выполнения
APP --> UI : Сообщение об успехе / ошибке
UI --> U : Показ результата

@enduml
```

### Вариант 2 - С авторизацией

```plantuml
@startuml
actor User as U
participant "Интерфейс\n(UI)" as UI
participant "Логика приложения\n(APP)" as APP
participant "Модуль безопасности\n(Auth)" as SEC
database "База данных\n(DB)" as DB

U -> UI : Выполнить действие "<ОПЕРАЦИЯ>"
UI -> SEC : Передать логин/пароль
SEC --> UI : Результат аутентификации

UI -> APP : Отправить данные операции
APP -> SEC : Проверка прав доступа
SEC --> APP : Доступ разрешён

APP -> DB : Операция с данными
DB --> APP : Результат

APP --> UI : Сообщение об успехе
UI --> U : Показ результата

@enduml
```

### Вариант 3 — Со внешним сервисом

```plantuml
@startuml
actor User as U
participant "Интерфейс\n(UI)" as UI
participant "Логика\n(APP)" as APP
database "База данных\n(DB)" as DB
participant "Внешний сервис\n(<API>)" as EXT

U -> UI : Начать операцию "<ОПЕРАЦИЯ>"
UI -> APP : Передать данные
APP -> DB : Валидация данных
DB --> APP : OK

APP -> EXT : Запрос к внешнему сервису
EXT --> APP : Результат внешней операции

APP --> UI : Сообщение об успехе
UI --> U : Показ результата

@enduml
```

## 3. Архитектурная диаграмма (уровневая)

### Вариант 1 — Трёхслойная архитектура

```plantuml
@startuml
title Архитектура системы "<НАЗВАНИЕ СИСТЕМЫ>"

node "Пользовательский интерфейс\n(WinForms)" as UI
node "Логика приложения\n(Business Logic)" as BL
database "База данных\n(MySQL / PostgreSQL)" as DB
node "Модуль безопасности\n(152-ФЗ)" as SEC

UI --> BL : запросы/команды
BL --> DB : запросы к данным
BL --> SEC : проверка прав доступа
SEC --> BL : результат проверки
BL --> UI : данные/результаты

@enduml
```

### Вариант 2 — Клиент–серверная архитектура

```plantuml
@startuml
title Клиент–серверная архитектура "<НАЗВАНИЕ СИСТЕМЫ>"

node "Клиентское приложение\n(ПК пользователя)" as CLIENT
node "Сервер приложения\n(<НАЗВАНИЕ СИСТЕМЫ>)" as APP
database "База данных\n(MySQL / PostgreSQL)" as DB
node "Сервис безопасности\n(Аутентификация/Авторизация)" as SEC

CLIENT --> APP : HTTP/запросы API\n(операции пользователей)
APP --> DB : SQL-запросы
APP --> SEC : проверка учётных данных\nи ролей
SEC --> APP : результат аутентификации
APP --> CLIENT : ответы/данные

@enduml
```

### Вариант 3 — Архитектура с внешним сервисом

```plantuml
@startuml
title Архитектура "<НАЗВАНИЕ СИСТЕМЫ>" с внешним сервисом

node "Пользовательский интерфейс\n(WinForms / Web)" as UI
node "Сервер приложения\n(Бизнес-логика)" as BL
database "База данных\n(MySQL / PostgreSQL)" as DB
node "Модуль безопасности\n(152-ФЗ, 149-ФЗ)" as SEC
node "Внешний сервис\n(<ВНЕШНИЙ СЕРВИС>)" as EXT

UI --> BL : действия пользователя
BL --> DB : операции с данными
BL --> SEC : проверка прав / логирование
SEC --> BL : результат проверки

BL --> EXT : запрос (например,\nплатёж / внешний API)
EXT --> BL : результат операции

BL --> UI : результат для пользователя

@enduml
```
